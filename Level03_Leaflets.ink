=== Level03 ===
VAR trust_oleg = 1
VAR trust_sergey = 1
VAR trust_ulyana = 1
VAR suspicion = 0

-> start

=== start ===
Подвал. Тусклая лампа. Все молчат.

Олег тихо:
— Немцы знали про листовки. Слишком быстро.

Сергей резко:
— Значит, кто-то проболтался.

Ульяна:
— Или за кем-то следили.

* [Поддержать Олега] -> trust_oleg_up
* [Поддержать Сергея] -> trust_sergey_up
* [Поддержать Ульяну] -> trust_ulyana_up

=== trust_oleg_up ===
~ trust_oleg += 1
Олег благодарно кивает.
-> discussion

=== trust_sergey_up ===
~ trust_sergey += 1
Сергей смотрит внимательнее.
-> discussion

=== trust_ulyana_up ===
~ trust_ulyana += 1
Ульяна мягко улыбается.
-> discussion

=== discussion ===
Олег:
— Нужно понять, где утечка.

Сергей:
— Вчера о плане знали только мы.

Ульяна:
— И ещё один человек… который не пришёл сегодня.

~ suspicion += 1

* [Спросить, кто это] -> name
* [Сказать, что нельзя обвинять без доказательств] -> calm

=== name ===
Олег понижает голос:
— Виктор.

-> memory_check

=== calm ===
Ульяна:
— Осторожность важнее обвинений.

-> memory_check

=== memory_check ===
Олег:
— Вспомни. Кто вчера сидел ближе всех к карте?

* [Виктор] -> correct_memory
* [Сергей] -> wrong_memory
* [Ульяна] -> wrong_memory

=== correct_memory ===
~ suspicion += 1
Олег:
— Да. Он внимательно смотрел маршруты.

-> choice

=== wrong_memory ===
~ suspicion += 2
Сергей хмурится:
— Ты путаешь. Это странно.

-> choice

=== choice ===
Сергей:
— Что будем делать?

* [Проследить за Виктором] -> follow
* [Поговорить с ним напрямую] -> talk
* [Пока ничего не делать] -> wait

=== follow ===
Ты вызываешься проследить.

Ульяна:
— Осторожно. Если он невиновен — мы потеряем друга.

-> follow_scene

=== talk ===
Олег:
— Разговор может его спугнуть.

~ suspicion += 1
-> follow_scene

=== wait ===
Сергей:
— Время может сыграть против нас.

~ suspicion += 1
-> follow_scene

=== follow_scene ===
Вечер. Виктор идёт по улице и часто оглядывается.

* [Держаться на расстоянии] -> safe_follow
* [Подойти ближе] -> risky_follow

=== safe_follow ===
Ты остаёшься в тени.

Виктор останавливается у чужого дома.
Стучит.

-> reveal

=== risky_follow ===
Ты подходишь слишком близко.

Виктор резко оборачивается.

~ suspicion += 1

-> reveal

=== reveal ===
Дверь открывает немецкий офицер.

Сердце замирает.

-> reaction

=== reaction ===
* [Уйти незаметно] -> report
* [Подслушать разговор] -> overhear

=== overhear ===
Ты слышишь:
— Завтра они снова соберутся.

~ suspicion += 2
-> report

=== report ===
Подвал. Все ждут.

Олег:
— Ну?

{ suspicion >= 4:
    — Мы опоздали…
    -> bad_end
- else:
    — Значит, предатель среди нас.
    -> good_end
}

=== good_end ===
Уровень заканчивается тяжёлым молчанием.
Теперь вы знаете правду.
-> END

=== bad_end ===
Слишком много шума. Возможно, Виктор понял, что за ним следят.
-> END -> Level04
